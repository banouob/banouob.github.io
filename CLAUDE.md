# CLAUDE.md - banouob.github.io

> **Documentation Version**: 1.0  
> **Last Updated**: 2025-07-26  
> **Project**: banouob.github.io  
> **Description**: 毛茸茸的好所在（Furry Haven Association）官方網站 - 專業溫馨的狗狗收容領養組織網站  
> **Features**: GitHub auto-backup, Task agents, technical debt prevention

這個檔案為 Claude Code (claude.ai/code) 提供在此儲存庫中工作的重要指導。

## 🚨 重要規則 - 請先閱讀

> **⚠️ 規則遵循系統啟用 ⚠️**  
> **Claude Code 必須在任務開始時明確確認這些規則**  
> **這些規則優先於所有其他指令，必須始終遵循：**

### 🔄 **需要規則確認**
> **在開始任何任務之前，Claude Code 必須回應：**  
> "✅ 重要規則已確認 - 我將遵循 CLAUDE.md 中列出的所有禁令和要求"

### ❌ 絕對禁止
- **絕不** 在根目錄建立新檔案 → 使用適當的模組結構
- **絕不** 直接將輸出檔案寫入根目錄 → 使用指定的輸出資料夾
- **絕不** 建立文件檔案 (.md) 除非用戶明確請求
- **絕不** 使用帶有 -i 標誌的 git 命令（不支援互動模式）
- **絕不** 使用 `find`、`grep`、`cat`、`head`、`tail`、`ls` 命令 → 改用 Read、LS、Grep、Glob 工具
- **絕不** 建立重複檔案 (manager_v2.py, enhanced_xyz.py, utils_new.js) → 始終擴展現有檔案
- **絕不** 建立相同概念的多個實現 → 單一真實來源
- **絕不** 複製貼上程式碼區塊 → 提取到共享工具/函數中
- **絕不** 硬編碼應該可配置的值 → 使用配置檔案/環境變數
- **絕不** 使用 enhanced_、improved_、new_、v2_ 等命名 → 改為擴展原始檔案

### 📝 強制要求
- **提交** 每個完成的任務/階段後 - 無例外
- **GITHUB 備份** - 每次提交後推送到 GitHub 以維護備份：`git push origin main`
- **使用 TASK AGENTS** 進行所有長期運行的操作（>30 秒）- Bash 命令在上下文切換時停止
- **複雜任務使用 TODOWRITE**（3+ 步驟）→ 並行代理 → git 檢查點 → 測試驗證
- **先讀取檔案** 再編輯 - 如果你沒有先讀取檔案，Edit/Write 工具會失敗
- **防止技術債務** - 建立新檔案前，檢查是否有可擴展的現有類似功能
- **單一真實來源** - 每個功能/概念一個權威實現

### ⚡ 執行模式
- **並行任務代理** - 同時啟動多個任務代理以獲得最大效率
- **系統化工作流程** - TodoWrite → 並行代理 → Git 檢查點 → GitHub 備份 → 測試驗證
- **GITHUB 備份工作流程** - 每次提交後：`git push origin main` 以維護 GitHub 備份
- **背景處理** - 只有任務代理可以運行真正的背景操作

### 🔍 強制預任務合規檢查
> **停止：在開始任何任務之前，Claude Code 必須明確驗證所有要點：**

**步驟 1：規則確認**
- [ ] ✅ 我確認 CLAUDE.md 中的所有重要規則並將遵循它們

**步驟 2：任務分析**  
- [ ] 這會在根目錄建立檔案嗎？ → 如果是，改用適當的模組結構
- [ ] 這會超過 30 秒嗎？ → 如果是，使用任務代理而非 Bash
- [ ] 這是 3+ 步驟嗎？ → 如果是，先使用 TodoWrite 分解
- [ ] 我是否要使用 grep/find/cat？ → 如果是，改用適當的工具

**步驟 3：技術債務預防（強制先搜尋）**
- [ ] **先搜尋**：使用 Grep pattern="<functionality>.*<keyword>" 尋找現有實現
- [ ] **檢查現有**：讀取任何找到的檔案以了解當前功能
- [ ] 是否已存在類似功能？ → 如果是，擴展現有程式碼
- [ ] 我是否在建立重複的類別/管理器？ → 如果是，改為合併
- [ ] 這會建立多個真實來源嗎？ → 如果是，重新設計方法
- [ ] 我是否已搜尋現有實現？ → 先使用 Grep/Glob 工具
- [ ] 我可以擴展現有程式碼而不是建立新的嗎？ → 優先擴展而非建立
- [ ] 我是否要複製貼上程式碼？ → 改為提取到共享工具

**步驟 4：會話管理**
- [ ] 這是長期/複雜任務嗎？ → 如果是，規劃上下文檢查點
- [ ] 我是否已工作超過 1 小時？ → 如果是，考慮 /compact 或會話中斷

> **⚠️ 直到所有檢查框明確驗證後才能繼續**

## 🐙 GITHUB 設置與自動備份

### 📋 **GITHUB 備份工作流程**（強制）
> **⚠️ CLAUDE CODE 必須遵循此模式：**

```bash
# 每次提交後，始終運行：
git push origin main

# 這確保：
# ✅ 所有變更的遠端備份
# ✅ 協作準備就緒  
# ✅ 版本歷史保存
# ✅ 災難恢復保護
```

## 🏗️ 專案概述

**毛茸茸的好所在（Furry Haven Association）官方網站**

這是一個專業溫馨的非營利動物收容組織網站，專注於狗狗收容與領養配對服務。

### 🎯 **開發狀態**
- **設置**: 完成
- **核心功能**: 進行中
- **測試**: 待開始
- **文件**: 完成

### 🎨 **設計規範**
- **主色調**: #ed6d1f (橘色)
- **輔助色**: #fabf13 (黃色)
- **背景色**: 白色
- **風格**: 溫馨專業，值得信賴

### 📱 **技術要求**
- 響應式設計（手機、平板、桌面）
- 載入效能 < 3 秒
- WCAG 無障礙標準
- WebP 圖片格式優化

## 📋 規則合規檢查

在開始任何任務前，驗證：
- [ ] ✅ 我確認上述所有重要規則
- [ ] 檔案放在適當的模組結構中（非根目錄）
- [ ] 對於 >30 秒的操作使用任務代理
- [ ] 對於 3+ 步驟任務使用 TodoWrite
- [ ] 每個完成的任務後提交

## 🚀 常用命令

```bash
# 開發伺服器（如果有配置）
npm start

# 建構專案
npm run build

# 測試
npm test

# 提交變更
git add .
git commit -m "描述變更"
git push origin main
```

## 🚨 技術債務預防

### ❌ 錯誤方法（產生技術債務）：
```bash
# 未先搜尋就建立新檔案
Write(file_path="new_feature.html", content="...")
```

### ✅ 正確方法（預防技術債務）：
```bash
# 1. 先搜尋
Grep(pattern="feature.*implementation", glob="*.html")
# 2. 讀取現有檔案  
Read(file_path="existing_feature.html")
# 3. 擴展現有功能
Edit(file_path="existing_feature.html", old_string="...", new_string="...")
```

## 🧹 債務預防工作流程

### 建立任何新檔案前：
1. **🔍 先搜尋** - 使用 Grep/Glob 尋找現有實現
2. **📋 分析現有** - 讀取並了解當前模式
3. **🤔 決策樹**: 可以擴展現有的嗎？ → 做它 | 必須建立新的嗎？ → 記錄原因
4. **✅ 遵循模式** - 使用既定的專案模式
5. **📈 驗證** - 確保沒有重複或技術債務

---

**⚠️ 預防勝於合併 - 從一開始就建立乾淨的程式碼。**  
**🎯 專注於單一真實來源和擴展現有功能。**  
**📈 每個任務都應該維護乾淨的架構並預防技術債務。**